<div class="template" id="output" farg0="rValue">
    <span databind="fromScope(this, 'rValue')"></span>
</div>
<div class="template" id="inputCheckbox" farg0="rValue">
    <input type="checkbox" databind="fromScope(this, 'rValue')"/>
</div>
<div class="template" id="tabBorder">
    <div id="scrollwrapper">
        <div id="content">
            <div class="templatecall" template="elements"></div>
        </div>
    </div>
</div>
<div id="header">
    <h1 databind="ref(fromScope(this, 'properties'), 'title')">Tasks</h1>
    <a href="javascript:void(0)" class="topRightButton" onclick="screen.home.addTask()">Add</a>
</div>
<!--<div id="scrollwrapper">
<div id="content"> -->
<div class="templatecall" template="tabBorder">
    <ul databind="ref(fromScope(this), 'tasks')" item="t">
        <li>
            <div class="template" id="default">
                <div onswipe="replace(this, 'taskview', 'edit', [], 'slide')">
                    <!-- <input type="checkbox" databind="t.done" onchange="screen.home.checkTask($(this))"/> -->
                    <div class="templatecall" template="inputCheckbox" arg0="ref(fromScope(this, 't'), 'done')" onchange="screen.home.checkTask(fromScope(this, 't'))">
                    </div>
                    <div class="templatecall" template="output" arg0="ref(fromScope(this, 't'), 'name')" frits="henk" onclick="window.bla = this; screen.home.editTask(fromScope(this, 't'))">
                    </div>
                </div>
            </div>
            <div class="template" id="edit">
                <div onswipe="replace(this, 'taskview', 'default', [], 'slide')">
                    <span databind="ref(fromScope(this, 't'), 'name')"></span>
                    <a href="javascript:void(0)" class="button" onclick="screen.home.deleteTask($(this).scope().get('t'))">Delete</a>
                </div>
            </div>
            <div class="templatecall" id="taskview" template="default">
            </div>
        </li>
    </ul>
</div>
<!--    </div>
</div>-->
<div id="tabbar">
    <div onclick="screen.home.setFilter(this, 'all');" class="selected">
        <img src="tab-ok.png"/>
        <br/>
        All
    </div>
    <div onclick="screen.home.setFilter(this, 'completed');">
        <img src="tab-ok.png"/>
        <br/>
        Completed
    </div>
    <div onclick="screen.home.setFilter(this, 'not-completed');">
        <img src="tab-ok.png"/>
        <br/>
        Not Completed
    </div>
</div>
